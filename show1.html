<!doctype html>
<html lang="zh">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0,viewport-fit=cover">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="renderer" content="webkit">
  <meta name="layoutmode" content="standard">
  <meta name="imagemode" content="force">
  <meta name="wap-font-scale" content="no">
  <meta name="format-detection" content="telephone=no">
  <title></title>

  <meta property="og:type" content="website">
  <meta property="og:title" content="">
  <meta property="og:description" content="">
  <meta property="og:image" content="">

  <link rel="shortcut icon" href="" type="image/x-icon">
  <style>
    *{margin:0;padding:0;border:0}
    body,html{min-height:100%;display:flex;justify-content:center;align-items:center;background:#f8f8f8;font-family:Arial,sans-serif;text-align:center}
    body{overflow:hidden}
    .error-content{color:red;font-size:18px}
  </style>
</head>
<body>
<script>

// 简化版本，兼容性更好
var urls = [
    'https://dh5.bipinhui.xyz',
    'https://dh3.bipinhui.xyz', 
    'https://dh4.bipinhui.xyz'
];

var accessibleUrls = [];
var checked = 0;

function checkUrl(url, callback) {
    var img = new Image();
    var timer = setTimeout(function() {
        img.onload = img.onerror = null;
        callback(false);
    }, 200);
    
    img.onload = function() { clearTimeout(timer); callback(true); };
    img.onerror = function() { clearTimeout(timer); callback(false); };
    
    img.src = url + '/favicon.ico?t=' + Date.now();
}

urls.forEach(function(url) {
    checkUrl(url, function(accessible) {
        if (accessible) accessibleUrls.push(url);
        checked++;
        
        if (checked === urls.length) {
            if (accessibleUrls.length > 0) {
                var randomUrl = accessibleUrls[Math.floor(Math.random() * accessibleUrls.length)];
                window.location.href = randomUrl;
            } else {
                // 都不可访问时跳转到百度
                window.location.href = 'https://dh5.bipinhui.xyz';
            }
        }
    });
});

</script>
</body>
</html>
